// Module included in the following assemblies:
//
// * networking/changing-cluster-network-mtu.adoc

:_mod-docs-content-type: PROCEDURE
[id="nw-cluster-mtu-preparing_{context}"]
= Preparing your hardware MTU configuration

Many ways exist to configure the hardware maximum transmission unit (MTU) for your cluster nodes. The following examples show only the most common methods. Verify the correctness of your infrastructure MTU. Select your preferred method for configuring your hardware MTU in the cluster nodes.

.Procedure

. Prepare your configuration for the hardware MTU:
+
** If your hardware MTU is specified with DHCP, update your DHCP configuration such as with the following dnsmasq configuration:
+
[source,text]
----
dhcp-option-force=26,<mtu>
----
+
--
where:

`<mtu>`:: Specifies the hardware MTU for the DHCP server to advertise.
--
+
** If your hardware MTU is specified with a kernel command line with PXE, update that configuration accordingly.
+
** If your hardware MTU is specified in a NetworkManager connection configuration, complete the following steps. This approach is the default for {product-title} if you do not explicitly specify your network configuration with DHCP, a kernel command line, or some other method. Your cluster nodes must all use the same underlying network configuration for the following procedure to work unmodified.

.. Find the primary network interface by entering the following command:
+
[source,terminal]
----
$ oc debug node/<node_name> -- chroot /host nmcli -g connection.interface-name c show ovs-if-phys0
----
+
--
where:

`<node_name>`:: Specifies the name of a node in your cluster.
--

.. Create the following `NetworkManager` configuration in the `<interface>-mtu.conf` file:
+
[source,ini]
----
[connection-<interface>-mtu]
match-device=interface-name:<interface>
ethernet.mtu=<mtu>
----
+
--
where:

`<interface>`:: Specifies the primary network interface name.
`<mtu>`:: Specifies the new hardware MTU value.
--
